{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/restaurant.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class RestaurantFormComponent {\n  constructor(restaurantService, router, activedRoute) {\n    this.restaurantService = restaurantService;\n    this.router = router;\n    this.activedRoute = activedRoute;\n    this.restaurant = {\n      id: 0,\n      Name: '',\n      Location: '',\n      Reviews: 0,\n      Description: '',\n      Main_Dish: ''\n    };\n    this.edit = false;\n  }\n  ngOnInit() {\n    const params = this.activedRoute.snapshot.params;\n    if (params['id']) {\n      console.log(params['id']);\n      const num_id = Number(params['id']);\n      this.restaurantService.getOneRestaurant(num_id).subscribe({\n        next: v => {\n          console.log(v), this.restaurant = v;\n          this.edit = true;\n          for (let restaurant of this.restaurant) {\n            this.restaurant = restaurant;\n          }\n        },\n        error: e => console.error(e),\n        complete: () => {\n          console.info('complete');\n        }\n      });\n    }\n    // console.log(params['Id']);\n    // this.activedRoute.params.subscribe(params => {\n    //   const id = params['id'];\n    //   if (id) {\n    //     const id_num = Number(id);\n    //     this.restaurantService.getOneRestaurant(id_num).subscribe(res => {console.log(res);this.restaurant = res})\n    //     // ({\n    //     //   next: (v) => {console.log(v), this.restaurant = v},\n    //     //   error: (e) => console.error(e),\n    //     //   complete: () => {console.info('complete')}\n    //     // })\n    //   }\n    // });\n  }\n\n  saveNewRestaurant() {\n    delete this.restaurant.id;\n    this.restaurantService.addRestaurant(this.restaurant).subscribe({\n      next: v => console.log(v),\n      error: e => console.error(e),\n      complete: () => {\n        console.info('complete'), this.router.navigate(['/restaurants']);\n      }\n    });\n  }\n  updateRestaurant() {\n    this.restaurantService.updateRestaurant(this.restaurant.id, this.restaurant).subscribe({\n      next: v => console.log(v),\n      error: e => console.error(e),\n      complete: () => {\n        console.info('complete'), this.router.navigate(['/restaurants']);\n      }\n    });\n  }\n}\nRestaurantFormComponent.ɵfac = function RestaurantFormComponent_Factory(t) {\n  return new (t || RestaurantFormComponent)(i0.ɵɵdirectiveInject(i1.RestaurantService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nRestaurantFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RestaurantFormComponent,\n  selectors: [[\"app-restaurant-form\"]],\n  decls: 20,\n  vars: 6,\n  consts: [[1, \"col-md-4-offset-md-4\"], [1, \"card\"], [1, \"card-body\"], [1, \"form-group\"], [\"type\", \"text\", \"name\", \"Name\", \"placeholder\", \"Restaurant Name\", \"autofocus\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"Location\", \"placeholder\", \"Location\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"Reviews\", \"placeholder\", \"5 stars\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"Description\", \"placeholder\", \"Description\", \"rows\", \"2\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"MainDish\", \"placeholder\", \"Main Dish\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-success\", \"btn-block\", 3, \"click\"], [1, \"col-md-4\"], [1, \"card\", \"card-body\", \"text-center\"]],\n  template: function RestaurantFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"form\")(4, \"div\", 3)(5, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function RestaurantFormComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.restaurant.Name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 3)(7, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function RestaurantFormComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.restaurant.Location = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 3)(9, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function RestaurantFormComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.restaurant.Reviews = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 3)(11, \"textarea\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function RestaurantFormComponent_Template_textarea_ngModelChange_11_listener($event) {\n        return ctx.restaurant.Description = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"div\", 3)(13, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function RestaurantFormComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.restaurant.Main_Dish = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function RestaurantFormComponent_Template_button_click_14_listener() {\n        return ctx.edit ? ctx.updateRestaurant() : ctx.saveNewRestaurant();\n      });\n      i0.ɵɵtext(15, \" Save Restaurant \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(16, \"div\", 10)(17, \"div\", 11)(18, \"h3\");\n      i0.ɵɵtext(19);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.restaurant.Name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.restaurant.Location);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.restaurant.Reviews);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.restaurant.Description);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.restaurant.Main_Dish);\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.restaurant.Name);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\".form-group[_ngcontent-%COMP%]{\\n    margin:10px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9yZXN0YXVyYW50LWZvcm0vcmVzdGF1cmFudC1mb3JtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxXQUFXO0FBQ2YiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9ybS1ncm91cHtcbiAgICBtYXJnaW46MTBweDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["RestaurantFormComponent","constructor","restaurantService","router","activedRoute","id","Name","Location","Reviews","Description","Main_Dish","ngOnInit","params","snapshot","console","log","num_id","Number","getOneRestaurant","subscribe","next","v","restaurant","edit","error","e","complete","info","saveNewRestaurant","addRestaurant","navigate","updateRestaurant","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/juliosarmiento/Desktop/CRUD/client/src/app/components/restaurant-form/restaurant-form.component.ts","/Users/juliosarmiento/Desktop/CRUD/client/src/app/components/restaurant-form/restaurant-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {Restaurant} from '../../models/Restaurant'\nimport { RestaurantService } from 'src/app/services/restaurant.service';\nimport {Router, ActivatedRoute} from '@angular/router'\n\n@Component({\n  selector: 'app-restaurant-form',\n  templateUrl: './restaurant-form.component.html',\n  styleUrls: ['./restaurant-form.component.css']\n})\nexport class RestaurantFormComponent implements OnInit {\n\n  restaurant:Restaurant | any = {\n    id: 0,\n    Name: '',\n    Location: '',\n    Reviews: 0, \n    Description: '',\n    Main_Dish: '',\n  };\n  edit: boolean = false;\n  constructor(private restaurantService: RestaurantService, private router: Router, private activedRoute: ActivatedRoute) {}\n\n  ngOnInit(){\n     const params = this.activedRoute.snapshot.params;\n     if (params['id']){\n      console.log(params['id'])\n      const num_id = Number(params['id']);\n      this.restaurantService.getOneRestaurant(num_id).subscribe({\n              next: (v) => {\n                console.log(v), \n                this.restaurant = v\n                this.edit = true;\n                for(let restaurant of this.restaurant){\n                  this.restaurant = restaurant;\n                }\n              },\n              error: (e) => console.error(e),\n              complete: () => {console.info('complete')}\n    \n            })\n\n      \n          }\n    // console.log(params['Id']);\n    // this.activedRoute.params.subscribe(params => {\n    //   const id = params['id'];\n    //   if (id) {\n\n    //     const id_num = Number(id);\n    //     this.restaurantService.getOneRestaurant(id_num).subscribe(res => {console.log(res);this.restaurant = res})\n    //     // ({\n    //     //   next: (v) => {console.log(v), this.restaurant = v},\n    //     //   error: (e) => console.error(e),\n    //     //   complete: () => {console.info('complete')}\n\n    //     // })\n    //   }\n    // });\n  }\n\n  saveNewRestaurant(){\n    delete this.restaurant.id;\n    this.restaurantService.addRestaurant(this.restaurant).subscribe({\n      next: (v) => console.log(v),\n      error: (e) => console.error(e),\n      complete: () => {console.info('complete'), this.router.navigate(['/restaurants'])}\n    })\n  }\n\n  updateRestaurant(){\n    this.restaurantService.updateRestaurant(this.restaurant.id,this.restaurant).subscribe({\n      next: (v) => console.log(v),\n      error: (e) => console.error(e),\n      complete: () => {console.info('complete'), this.router.navigate(['/restaurants'])}\n      })\n    }\n\n}\n","<div class=\"col-md-4-offset-md-4\">\n    <div class=\"card\">\n        <div class=\"card-body\">\n            <form>\n                <div class=\"form-group\">\n                    <input type=\"text\" name=\"Name\" placeholder=\"Restaurant Name\" class=\"form-control\" [(ngModel)]=\"restaurant.Name\" autofocus>\n                </div>\n                <div class=\"form-group\">\n                    <input type=\"text\" name=\"Location\" placeholder=\"Location\" class=\"form-control\" [(ngModel)]=\"restaurant.Location\" >\n                </div>\n                <div class=\"form-group\">\n                    <input type=\"text\" name=\"Reviews\" placeholder=\"5 stars\" class=\"form-control\" [(ngModel)]=\"restaurant.Reviews\">\n                </div>\n                <div class=\"form-group\">\n                    <textarea name=\"Description\" placeholder=\"Description\" class=\"form-control\" rows=\"2\" [(ngModel)]=\"restaurant.Description\"></textarea>\n                </div>\n                <div class=\"form-group\">\n                    <input type=\"text\" name=\"MainDish\" placeholder=\"Main Dish\" class=\"form-control\" [(ngModel)]=\"restaurant.Main_Dish\">\n                </div>\n                <button class=\"btn btn-success btn-block\" (click)=\"edit ? updateRestaurant() : saveNewRestaurant()\">\n                    Save Restaurant\n                </button>\n\n\n            </form>\n        </div>\n    </div>\n</div>\n\n<div class=\"col-md-4\">\n    <div class=\"card card-body text-center\">\n        <h3>{{restaurant.Name}}</h3>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}